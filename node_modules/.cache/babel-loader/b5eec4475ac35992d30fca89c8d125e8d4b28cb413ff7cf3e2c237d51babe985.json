{"ast":null,"code":"var _jsxFileName = \"/Users/kanhaiyasuthar/Desktop/js/Aartas/chatapp/frontend/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Typography, TextField, Button, Container, Paper, Grid, Link as MuiLink } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    marginTop: theme.spacing(2),\n    padding: theme.spacing(3)\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    gap: theme.spacing(2),\n    width: '100%'\n  }\n}));\nfunction Login(props) {\n  _s();\n  const classes = useStyles();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n  const handleLogin = async e => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('http://localhost:3001/api/login', {\n        username,\n        password\n      });\n      // Store the token for authenticated requests\n      localStorage.setItem('authToken', response.data.token);\n      localStorage.setItem('userId', response.data.userId);\n      // At this point, the private key should already be in local storage from registration\n      console.log('Logged in successfully');\n      // Redirect to chat or another appropriate component\n      props.setIsAuthenticated(true);\n      localStorage.setItem('isLoggedIn', true);\n      navigate(\"/chat\");\n    } catch (error) {\n      console.error(\"Login error\", error.response);\n      alert(\"Something went wrong\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      className: classes.container,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.form,\n        onSubmit: handleLogin,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          type: \"text\",\n          label: \"Username\",\n          variant: \"outlined\",\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          fullWidth: true,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          type: \"password\",\n          label: \"Password\",\n          variant: \"outlined\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          fullWidth: true,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"contained\",\n          color: \"primary\",\n          fullWidth: true,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        justify: \"flex-end\",\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(MuiLink, {\n            component: Link,\n            to: \"/register\",\n            variant: \"body2\",\n            children: \"Don't have an account? Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"K3mu8CVCTwcJxqUa5bhiaCAdh74=\", false, function () {\n  return [useStyles, useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","axios","useNavigate","Link","makeStyles","Typography","TextField","Button","Container","Paper","Grid","MuiLink","jsxDEV","_jsxDEV","useStyles","theme","container","display","flexDirection","alignItems","marginTop","spacing","padding","form","gap","width","Login","props","_s","classes","username","setUsername","password","setPassword","navigate","handleLogin","e","preventDefault","response","post","localStorage","setItem","data","token","userId","console","log","setIsAuthenticated","error","alert","component","maxWidth","children","elevation","className","variant","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","label","value","onChange","target","fullWidth","required","color","justify","item","to","_c","$RefreshReg$"],"sources":["/Users/kanhaiyasuthar/Desktop/js/Aartas/chatapp/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Typography, TextField, Button, Container, Paper, Grid, Link as MuiLink } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    marginTop: theme.spacing(2),\n    padding: theme.spacing(3),\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    gap: theme.spacing(2),\n    width: '100%',\n  },\n}));\n\nfunction Login(props) {\n  const classes = useStyles();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('http://localhost:3001/api/login', { username, password });\n      // Store the token for authenticated requests\n      localStorage.setItem('authToken', response.data.token);\n      localStorage.setItem('userId', response.data.userId);\n      // At this point, the private key should already be in local storage from registration\n      console.log('Logged in successfully');\n      // Redirect to chat or another appropriate component\n      props.setIsAuthenticated(true);\n      localStorage.setItem('isLoggedIn', true);\n      navigate(\"/chat\");\n    } catch (error) {\n      console.error(\"Login error\", error.response);\n      alert(\"Something went wrong\");\n    }\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <Paper elevation={3} className={classes.container}>\n        <Typography variant=\"h4\">Login</Typography>\n        <form className={classes.form} onSubmit={handleLogin}>\n          <TextField\n            type=\"text\"\n            label=\"Username\"\n            variant=\"outlined\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            fullWidth\n            required\n          />\n          <TextField\n            type=\"password\"\n            label=\"Password\"\n            variant=\"outlined\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            fullWidth\n            required\n          />\n          <Button\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            fullWidth\n          >\n            Login\n          </Button>\n        </form>\n        <Grid container justify=\"flex-end\">\n          <Grid item>\n            <MuiLink component={Link} to=\"/register\" variant=\"body2\">\n              Don't have an account? Register\n            </MuiLink>\n          </Grid>\n        </Grid>\n      </Paper>\n    </Container>\n  );\n}\n\nexport default Login;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,EAAEC,IAAI,QAAQ,kBAAkB;AACpD,SAASC,UAAU,QAAQ,0BAA0B;AACrD,SAASC,UAAU,EAAEC,SAAS,EAAEC,MAAM,EAAEC,SAAS,EAAEC,KAAK,EAAEC,IAAI,EAAEP,IAAI,IAAIQ,OAAO,QAAQ,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3G,MAAMC,SAAS,GAAGV,UAAU,CAAEW,KAAK,KAAM;EACvCC,SAAS,EAAE;IACTC,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,QAAQ;IACvBC,UAAU,EAAE,QAAQ;IACpBC,SAAS,EAAEL,KAAK,CAACM,OAAO,CAAC,CAAC,CAAC;IAC3BC,OAAO,EAAEP,KAAK,CAACM,OAAO,CAAC,CAAC;EAC1B,CAAC;EACDE,IAAI,EAAE;IACJN,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,QAAQ;IACvBC,UAAU,EAAE,QAAQ;IACpBK,GAAG,EAAET,KAAK,CAACM,OAAO,CAAC,CAAC,CAAC;IACrBI,KAAK,EAAE;EACT;AACF,CAAC,CAAC,CAAC;AAEH,SAASC,KAAKA,CAACC,KAAK,EAAE;EAAAC,EAAA;EACpB,MAAMC,OAAO,GAAGf,SAAS,CAAC,CAAC;EAC3B,MAAM,CAACgB,QAAQ,EAAEC,WAAW,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACgC,QAAQ,EAAEC,WAAW,CAAC,GAAGjC,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAMkC,QAAQ,GAAGhC,WAAW,CAAC,CAAC;EAE9B,MAAMiC,WAAW,GAAG,MAAOC,CAAC,IAAK;IAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMrC,KAAK,CAACsC,IAAI,CAAC,iCAAiC,EAAE;QAAET,QAAQ;QAAEE;MAAS,CAAC,CAAC;MAC5F;MACAQ,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEH,QAAQ,CAACI,IAAI,CAACC,KAAK,CAAC;MACtDH,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEH,QAAQ,CAACI,IAAI,CAACE,MAAM,CAAC;MACpD;MACAC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;MACrC;MACAnB,KAAK,CAACoB,kBAAkB,CAAC,IAAI,CAAC;MAC9BP,YAAY,CAACC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC;MACxCP,QAAQ,CAAC,OAAO,CAAC;IACnB,CAAC,CAAC,OAAOc,KAAK,EAAE;MACdH,OAAO,CAACG,KAAK,CAAC,aAAa,EAAEA,KAAK,CAACV,QAAQ,CAAC;MAC5CW,KAAK,CAAC,sBAAsB,CAAC;IAC/B;EACF,CAAC;EAED,oBACEpC,OAAA,CAACL,SAAS;IAAC0C,SAAS,EAAC,MAAM;IAACC,QAAQ,EAAC,IAAI;IAAAC,QAAA,eACvCvC,OAAA,CAACJ,KAAK;MAAC4C,SAAS,EAAE,CAAE;MAACC,SAAS,EAAEzB,OAAO,CAACb,SAAU;MAAAoC,QAAA,gBAChDvC,OAAA,CAACR,UAAU;QAACkD,OAAO,EAAC,IAAI;QAAAH,QAAA,EAAC;MAAK;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC,eAC3C9C,OAAA;QAAMyC,SAAS,EAAEzB,OAAO,CAACN,IAAK;QAACqC,QAAQ,EAAEzB,WAAY;QAAAiB,QAAA,gBACnDvC,OAAA,CAACP,SAAS;UACRuD,IAAI,EAAC,MAAM;UACXC,KAAK,EAAC,UAAU;UAChBP,OAAO,EAAC,UAAU;UAClBQ,KAAK,EAAEjC,QAAS;UAChBkC,QAAQ,EAAG5B,CAAC,IAAKL,WAAW,CAACK,CAAC,CAAC6B,MAAM,CAACF,KAAK,CAAE;UAC7CG,SAAS;UACTC,QAAQ;QAAA;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC,eACF9C,OAAA,CAACP,SAAS;UACRuD,IAAI,EAAC,UAAU;UACfC,KAAK,EAAC,UAAU;UAChBP,OAAO,EAAC,UAAU;UAClBQ,KAAK,EAAE/B,QAAS;UAChBgC,QAAQ,EAAG5B,CAAC,IAAKH,WAAW,CAACG,CAAC,CAAC6B,MAAM,CAACF,KAAK,CAAE;UAC7CG,SAAS;UACTC,QAAQ;QAAA;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC,eACF9C,OAAA,CAACN,MAAM;UACLsD,IAAI,EAAC,QAAQ;UACbN,OAAO,EAAC,WAAW;UACnBa,KAAK,EAAC,SAAS;UACfF,SAAS;UAAAd,QAAA,EACV;QAED;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eACP9C,OAAA,CAACH,IAAI;QAACM,SAAS;QAACqD,OAAO,EAAC,UAAU;QAAAjB,QAAA,eAChCvC,OAAA,CAACH,IAAI;UAAC4D,IAAI;UAAAlB,QAAA,eACRvC,OAAA,CAACF,OAAO;YAACuC,SAAS,EAAE/C,IAAK;YAACoE,EAAE,EAAC,WAAW;YAAChB,OAAO,EAAC,OAAO;YAAAH,QAAA,EAAC;UAEzD;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEhB;AAAC/B,EAAA,CAnEQF,KAAK;EAAA,QACIZ,SAAS,EAGRZ,WAAW;AAAA;AAAAsE,EAAA,GAJrB9C,KAAK;AAqEd,eAAeA,KAAK;AAAC,IAAA8C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}