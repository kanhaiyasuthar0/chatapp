{"ast":null,"code":"var _jsxFileName = \"/Users/kanhaiyasuthar/Desktop/js/Aartas/chatapp/frontend/src/components/Register.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport nacl from 'tweetnacl';\nimport naclUtil from 'tweetnacl-util';\nimport { useNavigate } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Typography, TextField, Button, Container, Paper } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    marginTop: theme.spacing(2),\n    padding: theme.spacing(3)\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    gap: theme.spacing(2),\n    width: '100%'\n  }\n}));\nfunction Register() {\n  _s();\n  const classes = useStyles();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n  const handleRegister = async e => {\n    e.preventDefault();\n\n    // Generate public/private key pair\n    const keyPair = nacl.box.keyPair();\n    const publicKey = naclUtil.encodeBase64(keyPair.publicKey);\n    const privateKey = naclUtil.encodeBase64(keyPair.secretKey);\n\n    // Store the private key in local storage (consider more secure alternatives)\n    localStorage.setItem('privateKey', privateKey);\n    try {\n      // Include publicKey in the registration request\n      const response = await axios.post('http://localhost:3001/api/register', {\n        username,\n        password,\n        publicKey\n      });\n      console.log(response.data);\n      // Handle registration logic (e.g., showing a success message, redirecting to login)\n      navigate(\"/login\");\n    } catch (error) {\n      console.error(\"Registration error\", error.response);\n      alert(\"Something went wrong\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      className: classes.container,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.form,\n        onSubmit: handleRegister,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          type: \"text\",\n          label: \"Username\",\n          variant: \"outlined\",\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          fullWidth: true,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          type: \"password\",\n          label: \"Password\",\n          variant: \"outlined\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          fullWidth: true,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"contained\",\n          color: \"primary\",\n          fullWidth: true,\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"K3mu8CVCTwcJxqUa5bhiaCAdh74=\", false, function () {\n  return [useStyles, useNavigate];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","axios","nacl","naclUtil","useNavigate","makeStyles","Typography","TextField","Button","Container","Paper","jsxDEV","_jsxDEV","useStyles","theme","container","display","flexDirection","alignItems","marginTop","spacing","padding","form","gap","width","Register","_s","classes","username","setUsername","password","setPassword","navigate","handleRegister","e","preventDefault","keyPair","box","publicKey","encodeBase64","privateKey","secretKey","localStorage","setItem","response","post","console","log","data","error","alert","component","maxWidth","children","elevation","className","variant","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","label","value","onChange","target","fullWidth","required","color","_c","$RefreshReg$"],"sources":["/Users/kanhaiyasuthar/Desktop/js/Aartas/chatapp/frontend/src/components/Register.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport nacl from 'tweetnacl';\nimport naclUtil from 'tweetnacl-util';\nimport { useNavigate } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Typography, TextField, Button, Container, Paper } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    marginTop: theme.spacing(2),\n    padding: theme.spacing(3),\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    gap: theme.spacing(2),\n    width: '100%',\n  },\n}));\n\nfunction Register() {\n  const classes = useStyles();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n\n    // Generate public/private key pair\n    const keyPair = nacl.box.keyPair();\n    const publicKey = naclUtil.encodeBase64(keyPair.publicKey);\n    const privateKey = naclUtil.encodeBase64(keyPair.secretKey);\n\n    // Store the private key in local storage (consider more secure alternatives)\n    localStorage.setItem('privateKey', privateKey);\n\n    try {\n      // Include publicKey in the registration request\n      const response = await axios.post('http://localhost:3001/api/register', { username, password, publicKey });\n      console.log(response.data);\n      // Handle registration logic (e.g., showing a success message, redirecting to login)\n      navigate(\"/login\");\n    } catch (error) {\n      console.error(\"Registration error\", error.response);\n      alert(\"Something went wrong\");\n    }\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <Paper elevation={3} className={classes.container}>\n        <Typography variant=\"h4\">Register</Typography>\n        <form className={classes.form} onSubmit={handleRegister}>\n          <TextField\n            type=\"text\"\n            label=\"Username\"\n            variant=\"outlined\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            fullWidth\n            required\n          />\n          <TextField\n            type=\"password\"\n            label=\"Password\"\n            variant=\"outlined\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            fullWidth\n            required\n          />\n          <Button\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            fullWidth\n          >\n            Register\n          </Button>\n        </form>\n      </Paper>\n    </Container>\n  );\n}\n\nexport default Register;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,IAAI,MAAM,WAAW;AAC5B,OAAOC,QAAQ,MAAM,gBAAgB;AACrC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,UAAU,QAAQ,0BAA0B;AACrD,SAASC,UAAU,EAAEC,SAAS,EAAEC,MAAM,EAAEC,SAAS,EAAEC,KAAK,QAAQ,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpF,MAAMC,SAAS,GAAGR,UAAU,CAAES,KAAK,KAAM;EACvCC,SAAS,EAAE;IACTC,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,QAAQ;IACvBC,UAAU,EAAE,QAAQ;IACpBC,SAAS,EAAEL,KAAK,CAACM,OAAO,CAAC,CAAC,CAAC;IAC3BC,OAAO,EAAEP,KAAK,CAACM,OAAO,CAAC,CAAC;EAC1B,CAAC;EACDE,IAAI,EAAE;IACJN,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,QAAQ;IACvBC,UAAU,EAAE,QAAQ;IACpBK,GAAG,EAAET,KAAK,CAACM,OAAO,CAAC,CAAC,CAAC;IACrBI,KAAK,EAAE;EACT;AACF,CAAC,CAAC,CAAC;AAEH,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAClB,MAAMC,OAAO,GAAGd,SAAS,CAAC,CAAC;EAC3B,MAAM,CAACe,QAAQ,EAAEC,WAAW,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC8B,QAAQ,EAAEC,WAAW,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAMgC,QAAQ,GAAG5B,WAAW,CAAC,CAAC;EAE9B,MAAM6B,cAAc,GAAG,MAAOC,CAAC,IAAK;IAClCA,CAAC,CAACC,cAAc,CAAC,CAAC;;IAElB;IACA,MAAMC,OAAO,GAAGlC,IAAI,CAACmC,GAAG,CAACD,OAAO,CAAC,CAAC;IAClC,MAAME,SAAS,GAAGnC,QAAQ,CAACoC,YAAY,CAACH,OAAO,CAACE,SAAS,CAAC;IAC1D,MAAME,UAAU,GAAGrC,QAAQ,CAACoC,YAAY,CAACH,OAAO,CAACK,SAAS,CAAC;;IAE3D;IACAC,YAAY,CAACC,OAAO,CAAC,YAAY,EAAEH,UAAU,CAAC;IAE9C,IAAI;MACF;MACA,MAAMI,QAAQ,GAAG,MAAM3C,KAAK,CAAC4C,IAAI,CAAC,oCAAoC,EAAE;QAAEjB,QAAQ;QAAEE,QAAQ;QAAEQ;MAAU,CAAC,CAAC;MAC1GQ,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACI,IAAI,CAAC;MAC1B;MACAhB,QAAQ,CAAC,QAAQ,CAAC;IACpB,CAAC,CAAC,OAAOiB,KAAK,EAAE;MACdH,OAAO,CAACG,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAACL,QAAQ,CAAC;MACnDM,KAAK,CAAC,sBAAsB,CAAC;IAC/B;EACF,CAAC;EAED,oBACEtC,OAAA,CAACH,SAAS;IAAC0C,SAAS,EAAC,MAAM;IAACC,QAAQ,EAAC,IAAI;IAAAC,QAAA,eACvCzC,OAAA,CAACF,KAAK;MAAC4C,SAAS,EAAE,CAAE;MAACC,SAAS,EAAE5B,OAAO,CAACZ,SAAU;MAAAsC,QAAA,gBAChDzC,OAAA,CAACN,UAAU;QAACkD,OAAO,EAAC,IAAI;QAAAH,QAAA,EAAC;MAAQ;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC,eAC9ChD,OAAA;QAAM2C,SAAS,EAAE5B,OAAO,CAACL,IAAK;QAACuC,QAAQ,EAAE5B,cAAe;QAAAoB,QAAA,gBACtDzC,OAAA,CAACL,SAAS;UACRuD,IAAI,EAAC,MAAM;UACXC,KAAK,EAAC,UAAU;UAChBP,OAAO,EAAC,UAAU;UAClBQ,KAAK,EAAEpC,QAAS;UAChBqC,QAAQ,EAAG/B,CAAC,IAAKL,WAAW,CAACK,CAAC,CAACgC,MAAM,CAACF,KAAK,CAAE;UAC7CG,SAAS;UACTC,QAAQ;QAAA;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC,eACFhD,OAAA,CAACL,SAAS;UACRuD,IAAI,EAAC,UAAU;UACfC,KAAK,EAAC,UAAU;UAChBP,OAAO,EAAC,UAAU;UAClBQ,KAAK,EAAElC,QAAS;UAChBmC,QAAQ,EAAG/B,CAAC,IAAKH,WAAW,CAACG,CAAC,CAACgC,MAAM,CAACF,KAAK,CAAE;UAC7CG,SAAS;UACTC,QAAQ;QAAA;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC,eACFhD,OAAA,CAACJ,MAAM;UACLsD,IAAI,EAAC,QAAQ;UACbN,OAAO,EAAC,WAAW;UACnBa,KAAK,EAAC,SAAS;UACfF,SAAS;UAAAd,QAAA,EACV;QAED;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEhB;AAAClC,EAAA,CAhEQD,QAAQ;EAAA,QACCZ,SAAS,EAGRT,WAAW;AAAA;AAAAkE,EAAA,GAJrB7C,QAAQ;AAkEjB,eAAeA,QAAQ;AAAC,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}